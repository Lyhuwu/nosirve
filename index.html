 <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡Feliz Cumpleaños!</title>
    <style>
        body {
            background-color: #ADD8E6; /* Azul pastel */
            margin: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            color: #4682B4; /* Azul acero para el texto */
        }

        #confetti-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        #mensaje {
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            z-index: 10;
        }

        #pastel {
            cursor: pointer;
            width: 300px;
            height: auto;
            margin-top: 20px;
        }
        
        .vela {
            fill: yellow;
            stroke: black;
            stroke-width: 2;
        }

        /* Animación para las velas */
        .llama {
            fill: orange;
            stroke: none;
            animation: flame-flicker 1s infinite;
        }

        @keyframes flame-flicker {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
    </style>
</head>
<body>

    <div id="confetti-container"></div>
    
    <div id="mensaje">
        Feliz cumpleaños amor mio, pide un deseo
    </div>

    <svg id="pastel" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 400">
        <path d="M50 250 Q250 350, 450 250" fill="#B0E0E6" stroke="#87CEFA" stroke-width="5" />
        <rect x="50" y="150" width="400" height="100" fill="#B0E0E6" stroke="#87CEFA" stroke-width="5" />
        
        <rect class="vela" x="150" y="100" width="20" height="50" rx="5" ry="5" />
        <rect class="vela" x="330" y="100" width="20" height="50" rx="5" ry="5" />
        
        <circle class="llama" id="llama1" cx="160" cy="95" r="8" />
        <circle class="llama" id="llama2" cx="340" cy="95" r="8" />

        <text id="numero2" x="160" y="130" font-family="Arial" font-size="60" font-weight="bold" fill="white" text-anchor="middle" />
        <text id="numero3" x="340" y="130" font-family="Arial" font-size="60" font-weight="bold" fill="white" text-anchor="middle" />
    </svg>

    <script src="https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"></script>
    <script>
        const confeti = new ConfettiGenerator({ target: 'confetti-container' });
        let confetiAnimacionActiva = false;
        
        // Carga los datos del JSON
        const datos = {
            "cumpleaños": {
                "nombre_homenajeado": "Amor mío",
                "edad": 23,
                "mensaje": "Feliz cumpleaños, pide un deseo."
            },
            "configuracion_visual": {
                "color_fondo": "#ADD8E6",
                "color_pastel": "#B0E0E6",
                "url_confeti": "https://cdn.jsdelivr.net/npm/confetti-js@0.0.18/dist/index.min.js"
            }
        };

        // Asigna el número 23 a las velas
        document.getElementById('numero2').textContent = datos.cumpleaños.edad.toString()[0];
        document.getElementById('numero3').textContent = datos.cumpleaños.edad.toString()[1];

        // Animación de confeti al primer toque/click
        document.body.addEventListener('click', () => {
            if (!confetiAnimacionActiva) {
                confeti.render();
                confetiAnimacionActiva = true;
            }
        });

        // Animación de apagar velas
        const pastel = document.getElementById('pastel');
        const llamas = document.querySelectorAll('.llama');

        pastel.addEventListener('click', () => {
            llamas.forEach(llama => {
                // Detiene la animación de parpadeo y oculta las llamas
                llama.style.animation = 'none';
                llama.style.display = 'none';
            });
            // Opcional: Mostrar un mensaje después de apagar las velas
            alert("¡Deseo pedido!");
        });
    </script>
</body>
</html>
